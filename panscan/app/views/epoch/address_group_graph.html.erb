<h1>Group Graph View</h1>

<a href="/address/group/<%= @group_name %>">table view</a>  <br/> <br/>
group name = <%= @group_name %> </br>
min_amount = <%= @min_amount %> </br>
max_connect = <%= @max_connect %> </br>


----------------------<br/><br/>
<div class="slidecontainer" style="width:300px">
  min_amount: <span id="min_amount_value"></span>
  <input type="range" min="0" max="100" value="<%= @min_amount%>" class="slider" id="min_amount">
</div>
<br/>

<div class="slidecontainer" style="width:300px">
  max_connect: <span id="max_connect_value"></span>
  <input type="range" min="1" max="100" value="<%= @max_connect%>" class="slider" id="max_connect">
</div>
<br/>

<!--a href="javascript:update();">update graph</a><br/-->

----------------------<br/><br/>

<style>
.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #04AA6D;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: #04AA6D;
  cursor: pointer;
}
</style>


<div width="1200" height="600" style="overflow: scroll;" >
    <%= raw @graph %>
</div>

<script>
var slider1 = document.getElementById("max_connect");
var output1 = document.getElementById("max_connect_value");
var slider2 = document.getElementById("min_amount");
var output2 = document.getElementById("min_amount_value");

output1.innerHTML = slider1.value;
output2.innerHTML = slider2.value;

slider1.oninput = function() {
  output1.innerHTML = this.value;
}

slider2.oninput = function() {
  output2.innerHTML = this.value;
}

slider1.onmouseup=function() { update() }
slider2.onmouseup=function() { update() }

</script>

<script>
function update() {
   location.href = "./<%= @group_name %>?min_amount="+slider2.value+"&max_connect="+slider1.value;
}
</script>
